page:
  validation:
    behaviour: page
    onElementComponentChange: true
  component: InsisSimplePage
  sections:
    - component:
        IceFlexSection:
          grid:
            rows:
              - cols:
                  - size: auto
                    size.xs: auto
                    size.sm: auto
                    elements:
                      - name: policies-title
                    css: mat-title
    - component:
        IceArrayFlexSection:
          grid:
            rows:
              - cols:
                  - size: auto
                    size.xs: auto
                    size.sm: auto
                    elements:
                      - name: policies~picture
                css: u-mb-4
              - cols:
                  - size: none
                    css: inline-cell-elements
                    elements:
                      - name: policies~product-name
                  - size: none
                    size.xs: auto
                    size.sm: auto
                    elements:
                      - name: policies~policy-id
                    offset: 4px
                css: mat-headline u-mt-4
                gap: 4px
              - cols:
                  - size: auto
                    elements:
                      - name: policies~ins-end-date
                    css: u-mb-2
              - cols:
                  - size: auto
                    elements:
                      - name: policies~insured-objects
                    css: u-mb-5
              - cols:
                  - size: none
                    elements:
                      - name: policies~view-more
                  - size: none
                    elements:
                      - name: policies~submit-claim
                  - size: none
                    elements:
                      - name: policies~more-actions
          arrayElement: policies
          behaviourForEmptyRows: null
      css: policies-grid
    - component:
        IceFlexSection:
          grid:
            rows:
              - cols:
                  - size: auto
                    css: u-mt-2
                    elements:
                      - name: show-expired-policies
    - component:
        InsisDatagridSection:
          arrayElement: expired-policies
          cols:
            - element: expired-policies~more-actions
              caption: null
              size: 65px

            - element: expired-policies~link
              caption: elements.expired-policies.items.contract.policy-id.label
              size: 200px
              css: label-link

            - element: expired-policies~product-name
              caption: elements.expired-policies.items.contract.product-name.label
              size: 200px

            - element: expired-policies~ins-end-date
              caption: elements.expired-policies.items.contract.end.label
              size: 150px

            - element: expired-policies~premium-total
              caption: elements.expired-policies.items.insured.premium.total.label
              size: 100px

            - element: expired-policies~insured-objects
              caption: elements.expired-policies.items.insured-object.label
              size: auto
      viewMode:
        ConditionalSectionViewModeRule:
          conditionElement: show-expired-policies
          conditionValue: '0'
          conditionViewMode: hidden
          elseViewMode: output
