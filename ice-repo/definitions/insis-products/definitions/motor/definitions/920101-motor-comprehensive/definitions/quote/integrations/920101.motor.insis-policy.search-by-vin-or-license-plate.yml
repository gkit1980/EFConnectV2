integration:
  exchange:
    SoapCallExchangeRule:
      endpoint: insis_oom_endpoint
      securityMode: UsernamePassword
      username: 'insis-username'
      password: 'insis-password'
      ignoreNamespaces: 'insis-ignoreNamespaces'
      jsonSchema: InsisOMM
  transformation:
    DefaultTransformationRule:
      additional: insis
      dateFormat: YYYY-MM-DD
      dateTimeFormat: 'YYYY-MM-DDThh:mm:ss'
      out:
        - mappings:
            - param: soapAction
              value: findObject
            - param: requestType
              value: FindObjectRqType
            - param: responseType
              value: FindObjectsRsType
        - mappings:
            - value: 3
              payload: CustomOID.ObjectType
        - fromIdx:
            index: actionContext.index
          mappings:
            - value: EQ
              payload: CustomOID.FilterCriteria.FilterCriterion[0].operation
            - element: policy.insured.vehicle-objects~car.search.input
              payload: CustomOID.FilterCriteria.FilterCriterion[0].value
            - element: policy.insured.vehicle-objects~car.search.type
              payload: CustomOID.FilterCriteria.FilterCriterion[0].field
            - value: AND
              payload: CustomOID.FilterCriteria.FilterCriterion[0].conjunction
      in:
        - toIdx:
            index: actionContext.index
          mappings:
            - payload: 'Objects.Object[0].OCar.Chassis'
              element: policy.insured.vehicle-objects~car.chassis
            - payload: 'Objects.Object[0].OCar.RegNo'
              element: policy.insured.vehicle-objects~car.regno
            - payload: 'Objects.Object[0].OCar.Make'
              element: policy.insured.vehicle-objects~car.brand
            - payload: 'Objects.Object[0].OCar.Model'
              element: policy.insured.vehicle-objects~car.model
            - payload: 'Objects.Object[0].OCar.ProdYear'
              element: policy.insured.vehicle-objects~car.construction-date
            - payload: 'Objects.Object[0].OCar.CarSubtype'
            - payload: 'Objects.Object[0].OCar.Engine'
            - payload: 'Objects.Object[0].OCar.EnginePower'
              element: policy.insured.vehicle-objects~car.engine-power
            - payload: 'Objects.Object[0].OCar.FuelType'
              element: policy.insured.vehicle-objects~car.fuel
            - payload: 'Objects.Object[0].OCar.SeatsNum'
              element: policy.insured.vehicle-objects~car.seats-number
            - payload: 'Objects.Object[0].OCar.CarUsage'
              element: policy.insured.vehicle-objects~car.usage
      ignoreNull: true
