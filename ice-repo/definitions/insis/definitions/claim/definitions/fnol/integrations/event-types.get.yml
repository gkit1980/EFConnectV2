integration:
  type: active
  exchange:
    InsisDBExchangeRule:
      connectString: 'env:insis-db-url'
      username: 'env:insis-db-username'
      password: 'env:insis-db-password'
      queryFileURL: data/event-types.get.sql
      queryType: SQL
      query: ''
  transformation:
    DefaultTransformationRule:
      out:
        - mappings:
            - param: page_size
              value: 10
            - param: offset
              value: 0
            - param: event_type
              element: claim.event.type
      in:
        - fromIdx:
            array: payload.rows
          toIdx:
            array: datastore.event-types
            useSourceIndex: true
          mappings:
            - payload: 'rows[n].EVENT_TYPE'
              datastore: 'event-types[n].value'
            - payload: 'rows[n].NAME'
              datastore: 'event-types[n].displayTerm'
