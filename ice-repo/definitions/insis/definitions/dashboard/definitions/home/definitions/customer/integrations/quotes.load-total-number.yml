integration:
  exchange:
    # InsisDBExchangeRule:
    #   connectString: 'env:insis-db-url'
    #   username: 'env:insis-db-username'
    #   password: 'env:insis-db-password'
    #   queryFileURL: data/quotes.client.get.sql
    #   queryType: SQL
    InsisRestPQCallExchangeRule:
      endpointBaseurl: 'insis-rest-endpoint'
      verb: post
      url: '/util/query/paginated-query'
  transformation:
    DefaultTransformationRule:
      additional: insis
      out:
        - mappings:
            - param: queryId
              value: quotes.client.get
            - principal: pid
              param: PID
      in:
        - fromIdx:
            array: payload.rows
          mappings:
            - payload: rows.length
              element: unfinished-quotes.total-number
