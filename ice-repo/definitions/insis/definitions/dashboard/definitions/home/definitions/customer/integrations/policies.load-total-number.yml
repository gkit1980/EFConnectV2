integration:
  exchange:
    InsisRestPQCallExchangeRule:
      endpointBaseurl: 'insis-rest-endpoint'
      verb: post
      url: '/util/query/paginated-query'
  transformation:
    DefaultTransformationRule:
      additional: insis
      out:
        - mappings:
            - param: queryId
              value: policies.active.client.get-detailed

            - param: policy_id
              value: ''

            - param: policy_no
              value: ''

            - param: policy_name
              value: ''

            - param: insr_type
              value: ''

            - param: p_insured_object
              value: ''

            - param: policy_state
              value: 'Policy'

            - param: p_client
              principal: pid

            - param: p_insr_end
              value: ''

            - param: page_size
              value: 1

            - param: offset
              value: 0

      in:
        - mappings:
            - payload: 'rows[0].total'
              element: 'active-policies.total-number'
