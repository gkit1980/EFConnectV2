page:
  validation:
    behaviour: page
    onElementComponentChange: true
  component:
    InsisSimplePage: {}
  sections:
    - component:
        IceFlexSection:
          grid:
            rows:
              - cols:
                  - size: auto
                    size.xs: auto
                    size.sm: auto
                    elements:
                      - name: no-active-policies-title
              - cols:
                  - size: auto
                    size.xs: auto
                    size.sm: auto
                    elements:
                      - name: activity.get-more-insurance
      viewMode:
        InsisChangeViewModeBasedOnArrayLengthRule:
          condition: equals
          conditionValue: 0
          viewMode: default
          elseViewMode: hidden
          array: policies
    - component:
        IceFlexSection:
          grid:
            rows:
              - cols:
                  - size: auto
                    size.xs: auto
                    size.sm: auto
                    elements:
                      - name: policies-title
                    css: mat-display-1 u-mb-6
      viewMode:
        InsisChangeViewModeBasedOnArrayLengthRule:
          condition: greater
          conditionValue: '0'
          array: policies
          viewMode: default
          elseViewMode: hidden
    - component:
        IceArrayFlexSection:
          grid:
            rows:
              - cols:
                  - size: auto
                    size.xs: auto
                    size.sm: auto
                    elements:
                      - name: policies~picture
                css: u-mb-4
              - cols:
                  - size: none
                    css: inline-cell-elements
                    elements:
                      - name: policies~product_name
                  - size: none
                    size.xs: auto
                    size.sm: auto
                    elements:
                      - name: policies~policy_id
                    offset: 4px
                css: mat-headline u-mt-4
                gap: 4px
              - cols:
                  - size: 50%
                    elements:
                      - name: policies~insr_end
                    css: u-mb-2
                  - size: auto
                    size.xs: auto
                    size.sm: auto
                    css: nowrap
                    elements:
                      - name: policies~next-payment.summary
                      - name: policies~payment-completed-text
              - cols:
                  - size: auto
                    sections:
                      - name: insured-objects
                    css: u-mb-5
              - cols:
                  - size: none
                    elements:
                      - name: policies~view-more
                  - size: none
                    elements:
                      - name: policies~submit-claim
                  - size: none
                    elements:
                      - name: policies~more-actions
          arrayElement: policies
          behaviourForEmptyRows: null
          css: policies-grid
      viewMode:
        InsisChangeViewModeBasedOnArrayLengthRule:
          array: policies
          condition: greater
          conditionValue: '0'
          viewMode: default
          elseViewMode: hidden
    - component:
        InsisPaginatorSection:
          paginationAction: policies.active.load-from-pagination
          resultsLengthDatastorePath: pagination.active.results-length
          pageSizeDatastorePath: pagination.active.page-size
          offsetDatastorePath: pagination.active.offset
          pageIndexDatastorePath: pagination.active.page-index
          paginationObjectsKey: pagination.policies
          paginationSeparatorKey: pagination.separator
    - component:
        IceFlexSection:
          grid:
            rows:
              - cols:
                  - size: auto
                    css: u-mt-4 u-mb-2
                    elements:
                      - name: activity.show-expired-policies
      viewMode:
        InsisChangeViewModeBasedOnArrayLengthRule:
          array: expired-policies
          condition: greater
          conditionValue: 0
          viewMode: default
          elseViewMode: hidden
    - component:
        InsisDatagridSection:
          arrayElement: expired-policies
          grid:
            rows:
              - cols:
                  - caption: elements.expired-policies.items.contract.policy-id.label
                    size: 200px
                    css: label-link u-ml-2
                    elements:
                      - name: expired-policies~link
                  - caption: >-
                      elements.expired-policies.items.contract.product-name.label
                    size: 200px
                    elements:
                      - name: expired-policies~product_name
                  - caption: elements.expired-policies.items.contract.end.label
                    size: 150px
                    elements:
                      - name: expired-policies~insr_end
                  - caption: >-
                      elements.expired-policies.items.insured.premium.total.label
                    size: 100px
                    elements:
                      - name: expired-policies~premium_amnt
                  - caption: elements.expired-policies.items.insured-object.label
                    size: auto
                    elements:
                      - name: expired-policies~insured_objects
                    css: grid-objects
      viewMode:
        ConditionalSectionViewModeRule:
          conditionElement: activity.show-expired-policies
          conditionValue: false
          conditionViewMode: hidden
          elseViewMode: output
    - component:
        InsisPaginatorSection:
          paginationAction: policies.expired.load-from-pagination
          resultsLengthDatastorePath: pagination.expired.results-length
          pageSizeDatastorePath: pagination.expired.page-size
          offsetDatastorePath: pagination.expired.offset
          pageIndexDatastorePath: pagination.expired.page-index
          paginationObjectsKey: pagination.policies
          paginationSeparatorKey: pagination.separator
      viewMode:
        ConditionalSectionViewModeRule:
          conditionElement: activity.show-expired-policies
          conditionValue: false
          conditionViewMode: hidden
          elseViewMode: output
