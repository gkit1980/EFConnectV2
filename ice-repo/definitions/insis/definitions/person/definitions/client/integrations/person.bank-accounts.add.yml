integration:
  exchange:
    InsisRestCallExchangeRule:
      endpointBaseurl: 'insis-rest-endpoint'
      verb: post
      url: '/people-data/pp-bankaccount-type/'
  transformation:
    DefaultTransformationRule:
      additional: insis
      dateFormat: YYYY-MM-DD
      out:
        - fromIdx:
            array: datamodel.person.bank-accounts
            index: actionContext.index
          mappings:
            - param: ignoreLoginService
              value: true

            - payload: manId
              element: person.man-id

            - payload: bankId
              element: person.bank-accounts~bank-id

            - payload: accountNum
              element: person.bank-accounts~account-num

            - payload: accountCurrency
              element: person.bank-accounts~account-currency

            - payload: accountState
              element: person.bank-accounts~account-state

      in:
        - toIdx:
            index: actionContext.index
          mappings:
            - payload: bankAccId
              element: person.bank-accounts~bank-acc-id
