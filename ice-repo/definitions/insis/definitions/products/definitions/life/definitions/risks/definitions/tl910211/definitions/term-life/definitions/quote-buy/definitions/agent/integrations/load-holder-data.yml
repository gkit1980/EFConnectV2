integration:
  exchange:
    InsisRestCallExchangeRule:
      endpointBaseurl: 'insis-rest-endpoint'
      verb: get
      url: '/people-dir/person/composite?manId=${MANID}'

  transformation:
    InsisPersonTransformationRule:
      additional: insis
      dateFormat: YYYY-MM-DD
      paths:
        - payload.contacts
        - payload.addresses
        - payload.bankAccounts
      out:
        - mappings:
            - param: ignoreLoginService
              value: true
            - param: MANID
              element: policy.participants.holder.person.manid
      in:
        - mappings:
            - payload: primary.contact.phone
              element: policy.participants.holder.person.phone

            - payload: primary.contact.phoneid
              element: policy.participants.holder.person.phone-id

            - payload: primary.contact.email
              element: policy.participants.holder.person.email

            - payload: primary.contact.emailid
              element: policy.participants.holder.person.email-id

        - mappings:
            - payload: addresses[0].address
              element: policy.participants.holder.person.address
            - payload: addresses[0].addressId
              element: policy.participants.holder.person.address-id
