integration:
  exchange:
    InsisRestCallExchangeRule:
      endpointBaseurl: 'insis-rest-endpoint'
      verb: post
      url: '/people-dir/person/${MANID}/addresses'
  transformation:
    DefaultTransformationRule:
      additional: insis
      dateFormat: YYYY-MM-DD
      out:
        - fromIdx:
            array: datamodel.policy.insured.person-objects
            index: actionContext.index
          mappings:
            - param: ignoreLoginService
              value: true
            - param: MANID
              element: policy.insured.person-objects~person.man-id
            - payload: address
              element: policy.insured.person-objects~address.value
            - payload: addressType
              value: 'H'
            - payload: primaryFlag
              value: 'Y'
      in:
        - toIdx:
            index: actionContext.index
          mappings:
            - payload: addressId
              element: policy.insured.person-objects~address.id
