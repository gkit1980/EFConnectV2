integration:
  exchange:
    SoapCallExchangeRule:
      endpoint: insis_pam_endpoint
      securityMode: UsernamePassword
      username: 'insis-username'
      password: 'insis-password'
      ignoreNamespaces: 'insis-ignoreNamespaces'
      jsonSchema: InsisPAM
  transformation:
    DefaultTransformationRule:
      additional: insis
      dateFormat: YYYY-MM-DD
      dateTimeFormat: 'YYYY-MM-DDThh:mm:ss'
      extends: 920101.motor.insis-policy.get-policy
      in:
        - fromIdx:
            array: payload.Policy.Insureds.Insured
          toIdx:
            array: datamodel.policy.insured.vehicle-objects
            useSourceIndex: true
          mappings:
            - element: policy.insured.vehicle-objects~car.search.type
              value: 'REG_NO'
            - element: policy.insured.vehicle-objects~car.search.go-pressed
              value: 'REG_NO'
            - element: policy.insured.vehicle-objects~owner.options
              value: 'policyholder'
      out:
        - mappings:
            - param: soapAction
              value: findPolicyByNumber
            - param: requestType
              value: FndPlcyByNumRqType
            - param: responseType
              value: FndPlcyByNumRsType
