integration:
  exchange:
    SoapCallExchangeRule:
      endpoint: insis_csm_endpoint
      securityMode: UsernamePassword
      username: 'env:insis-username'
      password: 'env:insis-password'
      ignoreNamespaces: 'env:insis-ignoreNamespaces'
      soapAction: findClaim
      requestType: FindClaimRqType
      responseType: FindClaimRsType
      jsonSchema: InsisCSM
  transformation:
    DefaultTransformationRule:
      additional: insis
      dateFormat: YYYY-MM-DD
      dateTimeFormat: 'YYYY-MM-DDThh:mm:ss'
      out:
        - mappings:
            - param: soapAction
              value: findClaim
            - param: requestType
              value: FindClaimRqType
        - mappings:
            - dynid: true
              payload: ClaimID
      in:
        - mappings:
            - element: incident.claim-id
              payload: Claim.ClaimID
            - element: incident.claim-no
              payload: Claim.ClaimNo
            - element: incident.event-date
              payload: Claim.EventDate
            - element: incident.event-type
              payload: Claim.EventType
            - element: incident.event-place
              payload: Claim.EventPlace
            - element: incident.event-country
              payload: Claim.EventCountry
            - element: incident.event-description
              payload: Claim.EventDescription
            - element: incident.claim-state
              payload: Claim.Requests.Request[0].ClaimServices.ClaimService.ServiceState
            - element: incident.claim-amount
              payload: Claim.Requests.Request[0].ClaimServices.ClaimService.RequestedPrice
