integration:
  exchange:
    InsisNoopExchangeRule: {}
  transformation:
    DefaultTransformationRule:
      out:
        - fromIdx:
            array: datamodel.client.list
            condition: selected == true
          mappings:
            - element: client.list~name
              payload: fullName
            - element: client.list~first-name
              payload: firstName
            - element: client.list~last-name
              payload: lastName
            - element: client.list~gender
              payload: gender
            - element: client.list~birthdate
              payload: birthdate
            - element: client.list~pid
              payload: pid
      in:
        - fromIdx:
            index: '[0]'
          toIdx:
            index: '[ datamodel.client.list.length ]'
            append: true
            condition: 1 == 1
          mappings:
            - payload: fullName
              element: client.list~name
            - payload: firstName
              element: client.list~first-name
            - payload: lastName
              element: client.list~last-name
            - payload: birthdate
              element: client.list~birthdate
            - payload: pid
              element: client.list~pid
            - payload: gender
              element: client.list~gender
    #   - toIdx:
    #       array: datamodel.policy.insured.person-objects
    #       append: true
    #       condition: 1 == 1
    #     mappings:
    #       - payload: firstName
    #         element: policy.insured.person-objects~person.first-name
    #       - payload: lastName
    #         element: policy.insured.person-objects~person.last-name
    #       - payload: gender
    #         element: policy.insured.person-objects~person.gender
    #       - payload: birthdate
    #         element: policy.insured.person-objects~person.date-of-birth
    #       - payload: pid
    #         element: policy.insured.person-objects~person.pid
    #       - value: 'Bulgaria'
    #         element: policy.insured.person-objects~person.address.country
