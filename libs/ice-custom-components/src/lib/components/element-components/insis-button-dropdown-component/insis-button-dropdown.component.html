<div class="button-dropdown" *ngIf="isVisible">
  <ng-container *ngIf="!isOutput" [ngSwitch]="variant">
    <base target="_blank" />
    <button
      *ngSwitchCase="'stroked'"
      mat-stroked-button
      [color]="themeColor"
      [matMenuTriggerFor]="menu"
      [disabled]="isDisabled"
      [matTooltip]="tooltip"
      matTooltipClass="ice-tooltip"
      [attr.accesskey]="accesskey"
    >
      {{ label }}
      <mat-icon>{{ icon }}</mat-icon>
    </button>

    <button
      *ngSwitchCase="'raised'"
      mat-raised-button
      [color]="themeColor"
      [matMenuTriggerFor]="menu"
      [disabled]="isDisabled"
      [matTooltip]="tooltip"
      matTooltipClass="ice-tooltip"
      [attr.accesskey]="accesskey"
    >
      {{ label }}
      <mat-icon>{{ icon }}</mat-icon>
    </button>

    <button
      *ngSwitchCase="'flat'"
      mat-flat-button
      [color]="themeColor"
      [matMenuTriggerFor]="menu"
      [disabled]="isDisabled"
      [matTooltip]="tooltip"
      matTooltipClass="ice-tooltip"
      [attr.accesskey]="accesskey"
    >
      {{ label }}
      <mat-icon>{{ icon }}</mat-icon>
    </button>

    <button
      *ngSwitchDefault
      mat-button
      [color]="themeColor"
      [matMenuTriggerFor]="menu"
      [disabled]="isDisabled"
      [matTooltip]="tooltip"
      matTooltipClass="ice-tooltip"
      [attr.accesskey]="accesskey"
    >
      {{ label }}
      <mat-icon>{{ icon }}</mat-icon>
    </button>

    <mat-menu #menu="matMenu">
      <button
        class="menu-dropdown"
        mat-menu-item
        *ngFor="let option of options"
        (click)="onClick(option.value)"
        [innerHTML]="option.label | MarkdownToHtml"
      ></button>
    </mat-menu>
  </ng-container>
  <div class="ice-hint" *ngIf="hint">{{ hint }}</div>
  <mat-error *ngFor="let message of validation?.getMessagesFor(element.name, index)">
    {{ message }}
  </mat-error>
  <mat-output *ngIf="isOutput" [isOutput]="isOutput" [label]="label" [value]="value"> </mat-output>
</div>
