<div class="insis-file-upload" *ngIf="isVisible">
  <div *ngIf="!isOutput">
    <mat-label *ngIf="label">{{ label }}</mat-label>
    <div class="insis-file-upload-button" *ngIf="!getFileName()">
      <input
        class="hidden-button"
        #fileInput
        type="file"
        accept="application/pdf,image/*"
        (change)="uploadEvent($event)"
      />
      <button mat-button color="primary">BROWSE</button>
    </div>

    <mat-chip-list aria-label="Files" *ngIf="getFileName()">
      <mat-chip [removable]="true" (removed)="deleteFile()">
        {{ trimName(getFileName()) }}
        <mat-icon matChipRemove>cancel</mat-icon>
      </mat-chip>
    </mat-chip-list>
  </div>

  <mat-error *ngFor="let message of validation?.getMessagesFor(element.name, index)">
    {{ message }}
  </mat-error>

  <mat-output
    *ngIf="isOutput"
    [isOutput]="isOutput"
    [label]="label"
    [value]="trimName(getFileName())"
  ></mat-output>
</div>
