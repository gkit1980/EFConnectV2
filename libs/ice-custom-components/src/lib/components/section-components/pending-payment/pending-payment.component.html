<!--Κατάσταση Πληρωμών-->
<div class="ice-simple-table" *ngIf="contentLoaded; else elseTemplate">

  <h5>{{ pendingPayments | resourcePipe }}</h5>

  <!--Desktop with Pending Payments-->
  
  <div class="only-desktop">
    <div class="row grey-background-unpaid mb-5" *ngFor="let row of allUnpaidReceipts; let idx=index" >
      <div class="row w-97 align-items-center no-wrap">
        <div class="col first-col">
          <div class="product">
            <div class="product-icon" aria-label="icon" [inlineSVG]="getIcon('0F0E1AC2A2AC45A7906897CCB41B5580')"
              [onSVGLoaded]="handleSVGProduct" *ngIf="row.branch =='ΑΥΤΟΚΙΝΗΤΩΝ'">
            </div>
            <div class="product-icon" aria-label="icon" [inlineSVG]="getIcon('5B16FD8598BC4750B8E058C8BDC2528A')"
              [onSVGLoaded]="handleSVGProduct" *ngIf="row.branch =='ΥΓΕΙΑΣ'">
            </div>
            <div class="product-icon" aria-label="icon" [inlineSVG]="getIcon('4412D69B78B5460B8E25F2FEAFA0105A')"
              [onSVGLoaded]="handleSVGProduct" *ngIf="row.branch =='ΖΩΗΣ'">
            </div>
            <div class="product-icon" aria-label="icon" [inlineSVG]="getIcon('D2F9D495BF194ED0BC3F23078CA4B07E')"
              [onSVGLoaded]="handleSVGProduct" *ngIf="row.branch =='ΠΕΡΙΟΥΣΙΑΣ'">
            </div>
            <div class="product-icon" aria-label="icon" [inlineSVG]="getIcon('55575BDF0CF94677A59ADCF3F1ECF1AB')"
              [onSVGLoaded]="handleSVGProduct" *ngIf="row.branch =='ΔΙΑΦΟΡΑ ΕΠΕΝΔΥΤΙΚΑ'">
            </div>
            <div class="product-icon" aria-label="icon" [inlineSVG]="getIcon('9C798E9E7D62478294D477734D3D65B6')"
              [onSVGLoaded]="handleSVGProduct" *ngIf="row.branch =='ΠΡΟΣΩΠΙΚΟΥ ΑΤΥΧΗΜΑΤΟΣ'  ||  row.branch === 'ΧΡΗΜΑΤΙΚΩΝ ΑΠΩΛΕΙΩΝ' || row.branch === 'ΑΣΤΙΚΗ ΕΥΘΥΝΗ'">
            </div>
            <div class="h5 product-description otherpc_text" *ngIf="row.branch === 'ΠΡΟΣΩΠΙΚΟΥ ΑΤΥΧΗΜΑΤΟΣ'  ||  row.branch === 'ΧΡΗΜΑΤΙΚΩΝ ΑΠΩΛΕΙΩΝ' || row.branch === 'ΑΣΤΙΚΗ ΕΥΘΥΝΗ'; else productDescription">
              {{row.branch}}
            </div>
            <ng-template #productDescription>
              <div class="h5 product-description" [ngClass]="{life_text: row.branch === 'ΖΩΗΣ',
                      health_text: row.branch === 'ΥΓΕΙΑΣ',
                      motor_text: row.branch === 'ΑΥΤΟΚΙΝΗΤΩΝ',
                      house_text: row.branch === 'ΠΕΡΙΟΥΣΙΑΣ',
                      savings_text: row.branch === 'ΔΙΑΦΟΡΑ ΕΠΕΝΔΥΤΙΚΑ',
                      otherpc_text: row.branch === 'ΠΡΟΣΩΠΙΚΟΥ ΑΤΥΧΗΜΑΤΟΣ'  ||  row.branch === 'ΧΡΗΜΑΤΙΚΩΝ ΑΠΩΛΕΙΩΝ' || row.branch === 'ΑΣΤΙΚΗ ΕΥΘΥΝΗ'}">{{row.contract}}</div>
            </ng-template>
          </div>
          <div class="Caption3 contractNumber"  [ngClass]="{life_text: row.branch === 'ΖΩΗΣ',
          health_text: row.branch === 'ΥΓΕΙΑΣ',
          motor_text: row.branch === 'ΑΥΤΟΚΙΝΗΤΩΝ',
          house_text: row.branch === 'ΠΕΡΙΟΥΣΙΑΣ',
          savings_text: row.branch === 'ΔΙΑΦΟΡΑ ΕΠΕΝΔΥΤΙΚΑ',
          otherpc_text: row.branch === 'ΠΡΟΣΩΠΙΚΟΥ ΑΤΥΧΗΜΑΤΟΣ'  ||  row.branch === 'ΧΡΗΜΑΤΙΚΩΝ ΑΠΩΛΕΙΩΝ' || row.branch === 'ΑΣΤΙΚΗ ΕΥΘΥΝΗ'}">{{contractKey | resourcePipe }}: {{row.contractNum}}</div>
        </div>
        <div class="col pl-0 m renewal-width">
          <p class="Caption3 opacity no-margins">{{ dateRenewal | resourcePipe }}</p>
          <p class="Caption3  no-margins value-bold  distance-fix">{{row.renewal}}</p>
        </div>
        <div class="col pl-0">
          <p class="Caption3 opacity no-margins"  [ngClass]="opacityForPayment(row)">{{ paymentCode | resourcePipe }}</p>
          <p class="Caption3  no-margins value-bold  distance-fix">{{row.paymentCode }}</p>
        </div>

        <div class="col pl-0">
          <p class="Caption3 opacity no-margins" [ngClass]="opacityForPayment(row)">{{ totalAmount | resourcePipe }}</p>
          <p class="Caption3  no-margins value-bold  distance-fix">{{row.amount}}</p>
        </div>


        <div class="col unpaid-btn-col">
            <div *ngIf="showLastNoteButton(row.urlNote)" class="col">
              <button class="eurolife_btn eurolife_btn-stroke payments padding-fix"
                [class.disable-btn]="showSpinnerBtnArr[idx]"
                (click)="getLastNotePdfLink(row.urlNote, idx)">
                {{ alert | resourcePipe }}
                <div *ngIf="!showSpinnerBtnArr[idx]" class="button-icon" aria-label="icon" 
                  [inlineSVG]="getIcon('3D4C3EE53B51434B9A9C20E02FA3B340')"
                  [onSVGLoaded]="handleSVGButton">
                </div>
                <div *ngIf="showSpinnerBtnArr[idx]" class="button-icon">
                  <i class="fa fa-spinner fa-spin fa-lg"></i>
                </div>
              </button>
            </div>
            <div *ngIf="redirectPaymentCondition(row)"
              class="col" [ngClass]="{'btn-top-distance': showDownloadButton(row.receiptKey)}">
              <button class="eurolife_btn eurolife_btn-default payments" (click)=redirectToPayment(row)>{{
              paymentButton | resourcePipe }}
              </button>
            </div>
        
              <div *ngIf="(row.paymentType == 'ΠΑΓΙΑ ΕΝΤΟΛΗ' || row.paymentType == 'ΛΟΓΑΡΙΑΣΜΟΣ ΔΑΝΕΙΟΥ' || row.paymentType == 'ΠΙΣΤΩΤΙΚΗ ΚΑΡΤΑ')"
               class="col" [ngClass]="{'btn-top-distance': showDownloadButton(row.receiptKey)}">
               <button class="eurolife_btn eurolife_btn-default payments enable-opacity-with-padding">{{autoPayment | resourcePipe }}
              </button>
            </div>
        </div>
        <div class="col no-right-margins">
          <!--arrow to redirect to specific receipt-->
          <div (click)="onReceipts(row)">
            <div class="col-md-1" aria-label="icon" [inlineSVG]="getIcon('C8705EB508D542E59548EF002F938768')"
              [onSVGLoaded]="handleSVGLastPay">
            </div>
          </div>
          <!----->
        </div>
      

      </div>
    </div>
  
  
  <!--Desktop tith ΝΟ Pending Payments-->  
   
  <div class="row grey-background-no-pending-payments mb-5" *ngIf="allUnpaidReceipts.length==0" >
    <div class="row w-100 align-items-center no-wrap center-text">
      <div class="col first-col">
      
        Μπράβο! Έχεις εξοφλήσει όλα τα συμβόλαιά σου. Εδώ θα βρεις όλες σου τις ανανεώσεις όταν γίνουν διαθέσιμες.

      </div>
    </div>
  </div>

</div>



  <!--Mobile-->
  <div class="only-mobile row not-paid-outer" >
    <div class="col grey-background mb-1 not-paid-container" *ngFor="let row of allUnpaidReceipts; let idx=index">
      <div class="row">

        <div class="mobile-first-row">
        <div class="col-md-11">
          <div class="product-icon" aria-label="icon" [inlineSVG]="getIcon('0F0E1AC2A2AC45A7906897CCB41B5580')"
            [onSVGLoaded]="handleSVGProduct" *ngIf="row.branch =='ΑΥΤΟΚΙΝΗΤΩΝ'">
          </div>
          <div class="product-icon" aria-label="icon" [inlineSVG]="getIcon('5B16FD8598BC4750B8E058C8BDC2528A')"
            [onSVGLoaded]="handleSVGProduct" *ngIf="row.branch =='ΥΓΕΙΑΣ'">
          </div>
          <div class="product-icon" aria-label="icon" [inlineSVG]="getIcon('4412D69B78B5460B8E25F2FEAFA0105A')"
            [onSVGLoaded]="handleSVGProduct" *ngIf="row.branch =='ΖΩΗΣ'">
          </div>
          <div class="product-icon" aria-label="icon" [inlineSVG]="getIcon('D2F9D495BF194ED0BC3F23078CA4B07E')"
            [onSVGLoaded]="handleSVGProduct" *ngIf="row.branch =='ΠΕΡΙΟΥΣΙΑΣ'">
          </div>
          <div class="product-icon" aria-label="icon" [inlineSVG]="getIcon('55575BDF0CF94677A59ADCF3F1ECF1AB')"
            [onSVGLoaded]="handleSVGProduct" *ngIf="row.branch =='ΔΙΑΦΟΡΑ ΕΠΕΝΔΥΤΙΚΑ'">
          </div>
          <div class="product-icon" aria-label="icon" [inlineSVG]="getIcon('9C798E9E7D62478294D477734D3D65B6')"
            [onSVGLoaded]="handleSVGProduct" *ngIf="row.branch =='ΠΡΟΣΩΠΙΚΟΥ ΑΤΥΧΗΜΑΤΟΣ'  ||  row.branch === 'ΧΡΗΜΑΤΙΚΩΝ ΑΠΩΛΕΙΩΝ' || row.branch === 'ΑΣΤΙΚΗ ΕΥΘΥΝΗ'">
          </div>
        </div>
        <div class="col-md-1">
          <div (click)="onReceipts(row)">
            <!--arrow to redirect to specific receipt-->
            <div class="chevron-right" aria-label="icon" [inlineSVG]="getIcon('C8705EB508D542E59548EF002F938768')"
              [onSVGLoaded]="handleSVGLastPay">
            </div>
          </div>
        </div>
    
     
      </div>  


        <div class="col-md-12">
          <div class="h5 product-description otherpc_text product-distance"
            *ngIf="row.branch === 'ΠΡΟΣΩΠΙΚΟΥ ΑΤΥΧΗΜΑΤΟΣ'  ||  row.branch === 'ΧΡΗΜΑΤΙΚΩΝ ΑΠΩΛΕΙΩΝ' || row.branch === 'ΑΣΤΙΚΗ ΕΥΘΥΝΗ'; else productDescription">
            {{row.branch}}
          </div>
          <ng-template #productDescription>
            <div class="h5 product-description product-distance" [ngClass]="{life_text: row.branch === 'ΖΩΗΣ',
            health_text: row.branch === 'ΥΓΕΙΑΣ',
            motor_text: row.branch === 'ΑΥΤΟΚΙΝΗΤΩΝ',
            house_text: row.branch === 'ΠΕΡΙΟΥΣΙΑΣ',
            savings_text: row.branch === 'ΔΙΑΦΟΡΑ ΕΠΕΝΔΥΤΙΚΑ',
            otherpc_text: row.branch === 'ΠΡΟΣΩΠΙΚΟΥ ΑΤΥΧΗΜΑΤΟΣ'  ||  row.branch === 'ΧΡΗΜΑΤΙΚΩΝ ΑΠΩΛΕΙΩΝ' || row.branch === 'ΑΣΤΙΚΗ ΕΥΘΥΝΗ'}">{{row.contract}}</div>
          </ng-template>
        </div>
        <div class="col-md-12">
          <div class="Caption3 contractNumber"  [ngClass]="{life_text: row.branch === 'ΖΩΗΣ',
          health_text: row.branch === 'ΥΓΕΙΑΣ',
          motor_text: row.branch === 'ΑΥΤΟΚΙΝΗΤΩΝ',
          house_text: row.branch === 'ΠΕΡΙΟΥΣΙΑΣ',
          savings_text: row.branch === 'ΔΙΑΦΟΡΑ ΕΠΕΝΔΥΤΙΚΑ',
          otherpc_text: row.branch === 'ΠΡΟΣΩΠΙΚΟΥ ΑΤΥΧΗΜΑΤΟΣ'  ||  row.branch === 'ΧΡΗΜΑΤΙΚΩΝ ΑΠΩΛΕΙΩΝ' || row.branch === 'ΑΣΤΙΚΗ ΕΥΘΥΝΗ'}">{{contractKey | resourcePipe }}: {{row.contractNum}}
          </div>
          </div>
        <div class="col-md-12 no-margins">
          <p class="Caption3 opacity no-margins">{{ dateRenewal | resourcePipe }}</p>
          <p class="Caption3 no-opacity value-bold  no-margins distance-fix">{{row.renewal}}</p>
        </div>
        <div class="w-100 line-seperator">
        </div>
        <div class="col-md-12 no-margins">
          <p class="Caption3 opacity no-margins" [ngClass]="opacityForPayment(row)">{{ paymentCode | resourcePipe }}</p>
          <p class="Caption3 no-opacity value-bold  no-margins distance-fix">{{row.paymentCode}}</p>
        </div>

        <div class="w-100 line-seperator"></div>
        <div class="col-md-12 no-margins">
          <p class="Caption3 opacity no-margins" [ngClass]="opacityForPayment(row)">{{ totalAmount | resourcePipe }}</p>
          <p class="Caption3 no-opacity value-bold  no-margins distance-fix">{{row.amount}}</p>
        </div>



        <div class="w-100 line-seperator">
        </div>

        <div *ngIf="showLastNoteButton(row.urlNote)" class="col-12 align-items-center justify-content-center">
          <button class="eurolife_btn eurolife_btn-stroke payments padding-fix not-paid-btn"
            [class.disable-btn]="showSpinnerBtnArr[idx]"
            (click)="getLastNotePdfLink(row.urlNote, idx)">
            {{ alert | resourcePipe }}
            <div *ngIf="!showSpinnerBtnArr[idx]" class="button-icon" aria-label="icon" 
              [inlineSVG]="getIcon('3D4C3EE53B51434B9A9C20E02FA3B340')"
              [onSVGLoaded]="handleSVGButton">
            </div>
            <div *ngIf="showSpinnerBtnArr[idx]" class="button-icon">
              <i class="fa fa-spinner fa-spin fa-lg"></i>
            </div>
          </button>
        </div>
      
        <div *ngIf="redirectPaymentCondition(row)" class="col-12 align-items-center justify-content-center mobile-payment-margin" [ngClass]="{'btn-top-distance': showDownloadButton(row.receiptKey)}">
          <button class="eurolife_btn eurolife_btn-default payments not-paid-btn justify-content-center" 
          (click)=redirectToPayment(row)>{{
          paymentButton | resourcePipe }}
          </button>
        </div>


        <div *ngIf="(row.paymentType == 'ΠΑΓΙΑ ΕΝΤΟΛΗ' || row.paymentType == 'ΛΟΓΑΡΙΑΣΜΟΣ ΔΑΝΕΙΟΥ' || row.paymentType == 'ΠΙΣΤΩΤΙΚΗ ΚΑΡΤΑ')" 
        class="col-12 align-items-center justify-content-center mobile-payment-margin" [ngClass]="{'btn-top-distance': showDownloadButton(row.receiptKey)}">
          <button class="eurolife_btn eurolife_btn-default payments not-paid-btn enable-opacity-with-padding justify-content-center" 
          >{{autoPayment | resourcePipe }}
          </button>
        </div>




      </div>
    </div>


  <div class="row grey-background-no-pending-payments mb-5" *ngIf="allUnpaidReceipts.length==0" >
    <div class="row w-100 align-items-center no-wrap center-text">
      <div class="col first-col">
      
        Μπράβο! Έχεις εξοφλήσει όλα τα συμβόλαιά σου. Εδώ θα βρεις όλες σου τις ανανεώσεις όταν γίνουν διαθέσιμες.

      </div>
    </div>
  </div>

  </div>



</div>


<ng-template #elseTemplate>

  <div class="ice-simple-table">

  <ngx-skeleton-loader count="1"
  [theme]="{'background-color': '#eee', width:'40%', height:'20px', 'border-radius':'10px'}">
  </ngx-skeleton-loader>

  <ngx-skeleton-loader count="3"
  [theme]="{'background-color': '#eee', width:'100%', height:'40px', 'border-radius':'10px'}">
  </ngx-skeleton-loader>
</div>



</ng-template>