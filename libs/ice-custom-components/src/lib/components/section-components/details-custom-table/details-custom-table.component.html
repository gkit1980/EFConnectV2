<div class="main-container">
  <div class="header-container" [ngClass]="getSectionClass()">
    <div class="ice-output">
      <label class="ng-star-inserted">{{ header }}</label>
    </div>
  </div>
  <div class="container table-container">
    <div *ngIf="amendmentsExist" class="header-row row">
      <div class="col" *ngFor="let header of headers">
        {{ header }}
      </div>
    </div>
    <div *ngIf="activeComponent === 'Coverages'">
      <div *ngFor="let row of data">
        <div class="data-row row">
          <div class="col cover-key" *ngIf="showCoverKey">
            {{ row.coverKey }}
          </div>
          <div class="col row-rest-data" #messageInput>      <!--messageInput for Group Health-->
            {{ row.coverDescription }}
          </div>
          <div *ngIf="
              hasAmount &&
                row.InsuredValue != 0 &&
                row.InsuredValue != undefined &&
                showDataCoveragesSpecific  && 
                !showDataCoveragesForGroupHealth;
              else has0Amount
            " class="col row-rest-data">
            {{ getCurrencyFormat(row.InsuredValue) }}
            <!-- {{row.InsuredValue}} -->
          </div>
          <ng-template #has0Amount>
            <div *ngIf="showDataCoveragesSpecific && hasAmount  && !showDataCoveragesForGroupHealth" class="col row-rest-data">
              Βάσει όρων ασφάλισης
            </div>
          </ng-template>

          <!--Ομαδικα Συμβολαια-->

          <div *ngIf="hasAmount && showDataCoveragesForGroupHealth" class="col row-rest-data" #messageInput>
            {{ row.GroupHealthInsuredValue }}
          </div>

          <div *ngIf="hasAmount && showDataCoveragesForGroupHealth" class="col row-rest-data">
             {{ getCurrencyFormat(row.GroupHealthRemainingValue) }}
         </div>

          <!--Τελος Ομαδικα Συμβολαια-->

        </div>
      </div>
    </div>
    <div *ngIf="activeComponent === 'Amendments'">
      <div *ngIf="!amendmentsExist; else myAmendments">
        <div>Δεν υπάρχουν Τροποποιήσεις</div>
      </div>
      <ng-template #myAmendments>
        <div class="data-row row" *ngFor="let row of dataAmendements">
          <div class="col cover-key">
            {{ row.EndorsementTypeDescription }}
          </div>
          <div class="col row-rest-data">
            {{ formatDate(row.IssueDate) | date: "dd/MM/yyyy" }}
            <!-- {{row.IssueDate}} -->
          </div>
          <div class="col row-rest-data">
            {{ formatDate(row.EffectiveDate) | date: "dd/MM/yyyy" }}
            <!-- {{row.EffectiveDate}} -->
          </div>
        </div>
      </ng-template>
    </div>
    <!-- <ng-template #dataskeleton>
      <div class="ice-simple-table">
        <ngx-skeleton-loader count="1"
          [theme]="{ 'background-color': '#dadada', width: '50%', height: '35px', 'border-radius': '10px' }">
        </ngx-skeleton-loader>
      </div>
    </ng-template> -->
    <div *ngIf="activeComponent === 'Participants'">
      <div class="data-row row" *ngFor="let row of data">
        <div class="col cover-key">
          {{ row.BenefName }}
        </div>
        <div class="col row-rest-data">
          {{ row.Relationship }}
        </div>
        <div class="col row-rest-data">{{ row.Percentage }} %</div>
      </div>
    </div>
  </div>
  <div *ngIf="activeComponent === 'Coverages'" class="info-container">
    <div class="info-svg" aria-label="icon" [inlineSVG]="getIcon('01D8EA7C762A44E0A8FF3E4FFF8D1C72')"
      [onSVGLoaded]="handleSVG"></div>
    <div class="info-text">
      Τα κεφάλαια, οι απαλλαγές και οι καλύψεις σας περιγράφονται αναλυτικά στο
      συμβόλαιο που σας έχουμε στείλει,σύμφωνα με τους όρους ασφάλισης.
    </div>
  </div>
  <div *ngIf="activeComponent === 'Amendments' && canRequestAmendment()" (click)="navigateToAmendments()" class="amendments-btn-container">
    <div class="eurolife_btn eurolife_btn-link first-btn"
      *ngIf="amendmentsInProgressCount === 1; else multipleAmendments">
      {{amendmentsInProgressCount}} αίτημα σε εξέλιξη
    </div>
    <ng-template #multipleAmendments>
      <div class="eurolife_btn eurolife_btn-link first-btn">
        {{amendmentsInProgressCount}} αιτήματα σε εξέλιξη
      </div>
    </ng-template>
    <div *ngIf="canRequestAmendment()" (click)="requestAmendment(currentContract)"
      class="eurolife_btn eurolife_btn-stroke">
      ΑΙΤΗΜΑ ΤΡΟΠΟΠΟΙΗΣΗΣ
    </div>
  </div>
</div>

<!--Mobile Version-->
<div class="mobile-container">
  <div class="header-container" [ngClass]="getSectionClass()">
    <div class="ice-output">
      <label class="ng-star-inserted">{{ header }}</label>
    </div>
  </div>
  <div class="column" *ngIf="activeComponent === 'Coverages' && !showDataCoveragesForGroupHealth">
    <div class="mobile-box" *ngFor="let row of data">
      <div *ngIf="showCoverKey" class="mobile-label">
        {{ headersCoverages[0] }}
      </div>
      <div class="mobile-value" *ngIf="showCoverKey">
        {{ row.coverKey }}
      </div>
      <div *ngIf="showCoverKey" class="line-seperator"></div>
      <div class="mobile-label">
        {{ showCoverKey ? headersCoverages[1] : headersCoverages[0] }}
      </div>
      <div class="mobile-value">
        {{ row.coverDescription }}
      </div>
      <div *ngIf="hasAmount" class="line-seperator"></div>
      <div *ngIf="hasAmount" class="mobile-label">
        {{ showCoverKey ? headersCoverages[2] : headersCoverages[1] }}
      </div>
      <div class="mobile-value" *ngIf="hasAmount">
        {{ row.InsuredValue | currency: "EUR":"symbol":"1.0" }}
      </div>
    </div>
  </div>

  <div class="column" *ngIf="activeComponent === 'Coverages' && showDataCoveragesForGroupHealth">
    <div class="mobile-box" *ngFor="let row of data">
      <div class="mobile-label">
        {{ headers[0] }}
      </div>
      <div class="mobile-value">
        {{ row.coverDescription }}
      </div>
      <div *ngIf="hasAmount" class="line-seperator"></div>
      <div *ngIf="hasAmount" class="mobile-label">
        {{  headers[1] }}
      </div>
      <div class="mobile-value" *ngIf="hasAmount" #messageInput>     <!--it needs an innerHtml-->
      {{ row.GroupHealthInsuredValue}}
      </div>
      <div *ngIf="hasAmount" class="line-seperator"></div>
      <div *ngIf="hasAmount" class="mobile-label">
        {{ headers[2] }}
      </div>
      <div class="mobile-value" *ngIf="hasAmount">
        {{getCurrencyFormat(row.GroupHealthRemainingValue) }}
      </div>
    </div>
  </div>

  <div class="column" *ngIf="activeComponent === 'Amendments'">
    <div *ngIf="!amendmentsExist; else myAmendmentsMobile">
      <div>Δεν υπάρχουν Τροποποιήσεις</div>
    </div>
    <ng-template #myAmendmentsMobile>
      <div class="mobile-box" *ngFor="let row of data">
        <div class="mobile-label">
          {{ headersAmendments[0] }}
        </div>
        <div class="mobile-value">
          {{ row.EndorsementTypeDescription }}
        </div>
        <div class="line-seperator"></div>
        <div class="mobile-label">
          {{ headersAmendments[1] }}
        </div>
        <div class="mobile-value">
          {{ formatDate(row.IssueDate) | date: "dd/MM/yyyy" }}
        </div>
        <div class="line-seperator"></div>
        <div class="mobile-label">
          {{ headersAmendments[2] }}
        </div>
        <div class="mobile-value">
          {{ formatDate(row.EffectiveDate) | date: "dd/MM/yyyy" }}
        </div>
      </div>
    </ng-template>
  </div>
  <!-- <ng-template #dataskeleton>
    <div class="ice-simple-table">
      <ngx-skeleton-loader count="1"
        [theme]="{ 'background-color': '#dadada', width: '50%', height: '35px', 'border-radius': '10px' }">
      </ngx-skeleton-loader>
    </div>
  </ng-template> -->
  <div class="column" *ngIf="activeComponent === 'Participants'">
    <div class="mobile-box" *ngFor="let row of data">
      <div class="mobile-label">
        {{ headersParticipants[0] }}
      </div>
      <div class="mobile-value">
        {{ row.BenefName }}
      </div>
      <div class="line-seperator"></div>
      <div class="mobile-label">
        {{ headersParticipants[1] }}
      </div>
      <div class="mobile-value">
        {{ row.Relationship }}
      </div>
      <div class="line-seperator"></div>
      <div class="mobile-label">
        {{ headersParticipants[2] }}
      </div>
      <div class="mobile-value">{{ row.Percentage }} %</div>
    </div>
  </div>
  <div *ngIf="activeComponent === 'Coverages'" class="info-container">
    <div class="info-svg" aria-label="icon" [inlineSVG]="getIcon('01D8EA7C762A44E0A8FF3E4FFF8D1C72')"
      [onSVGLoaded]="handleSVG"></div>
    <div class="info-text">
      Τα κεφάλαια, οι απαλλαγές και οι καλύψεις σας περιγράφονται αναλυτικά στο
      συμβόλαιο που σας έχουμε στείλει,σύμφωνα με τους όρους ασφάλισης
      <div class=""></div>
    </div>
  </div>
  <div (click)="navigateToAmendments()" *ngIf="activeComponent === 'Amendments' && canRequestAmendment()" class="amendments-btn-container">
    <div class="eurolife_btn eurolife_btn-link first-btn"
      *ngIf="amendmentsInProgressCount === 1; else multipleAmendments">
      {{amendmentsInProgressCount}} αίτημα σε εξέλιξη
    </div>
    <ng-template #multipleAmendments>
      <div class="eurolife_btn eurolife_btn-link first-btn">
        {{amendmentsInProgressCount}} αιτήματα σε εξέλιξη
      </div>
    </ng-template>
    <div (click)="requestAmendment(currentContract)" class="eurolife_btn eurolife_btn-stroke">
      ΑΙΤΗΜΑ ΤΡΟΠΟΠΟΙΗΣΗΣ
    </div>
  </div>
</div>