<section class="insis-motor-policy-summary-section card">
  <div fxLayout="row wrap" fxLayoutAlign="start start" class="u-mb-4">
    <div fxFlex="50%" fxFlex.xs="100%">
      <div class="label mat-caption">
        {{ getElementLabel('policy.contract.begin') }}
      </div>
      <div class="value">
        {{ getElementValue('policy.contract.begin') }}
      </div>
    </div>
    <div fxFlex="50%" fxFlex.xs="100%">
      <div class="label mat-caption">
        {{ getElementLabel('policy.contract.term.duration') }}
      </div>
      <div class="value">
        {{ getElementValue('policy.contract.term.duration') }}
      </div>
    </div>
  </div>

  <div fxLayout="row wrap" fxLayoutAlign="start start">
    <ng-container *ngFor="let elIndex of getArrayElementIndexes('policy.insured.vehicle-objects')">
      <div
        fxFlex="50%"
        fxFlex.xs="100%"
        class="u-mb-4"
        *ngIf="getElementValue('policy.insured.vehicle-objects~car.brand', [elIndex])"
      >
        <div class="label mat-caption">
          {{ getElementValue('policy.insured.vehicle-objects~car.brand', [elIndex]) }}
          {{ getElementValue('policy.insured.vehicle-objects~car.model', [elIndex]) }},
          {{ getElementValue('policy.insured.vehicle-objects~car.construction-date', [elIndex]) }}
        </div>
        <div class="value">
          {{ getElementValue('policy.insured.vehicle-objects~car.regno', [elIndex]) }}
        </div>
      </div>
    </ng-container>

    <ng-container
      *ngFor="let objectIndex of getArrayElementIndexes('policy.insured.vehicle-objects')"
    >
      <ng-container
        *ngFor="let driverIndex of getArrayElementIndexes('policy.insured.vehicle-objects~drivers')"
      >
        <div
          fxFlex="50%"
          fxFlex.xs="100%"
          class="u-mb-4"
          *ngIf="
            getElementValue('policy.insured.vehicle-objects~drivers~person.first-name', [
              objectIndex,
              driverIndex
            ])
          "
        >
          <div class="label mat-caption">Driver</div>
          <div class="value">
            {{
              getElementValue('policy.insured.vehicle-objects~drivers~person.first-name', [
                objectIndex,
                driverIndex
              ])
            }}
            {{
              getElementValue('policy.insured.vehicle-objects~drivers~person.last-name', [
                objectIndex,
                driverIndex
              ])
            }}
          </div>
        </div>
      </ng-container>
    </ng-container>

    <div
      fxFlex="50%"
      fxFlex.xs="100%"
      *ngIf="getElementValue('policy.participants.holder.person.full-name')"
      class="u-mb-4"
    >
      <div class="label mat-caption">
        {{ getElementLabel('policy.participants.holder.person.full-name') }}
      </div>
      <div class="value">
        {{ getElementValue('policy.participants.holder.person.full-name') }}
      </div>
    </div>
    <div
      fxFlex="50%"
      fxFlex.xs="100%"
      *ngIf="getElementValue('policy.participants.payor.iban')"
      class="u-mb-4"
    >
      <div class="label mat-caption">
        {{ getElementLabel('policy.participants.payor.iban') }}
      </div>
      <div class="value">
        {{ formatIBAN(getElementValue('policy.participants.payor.iban')) }}
      </div>
    </div>
  </div>
</section>
